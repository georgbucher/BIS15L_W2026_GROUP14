set.seed(123)
plant_joined <- data.frame(
occupied = sample(c(0, 1), 200, replace = TRUE),
temperature_ambient = rnorm(200, mean = 20, sd = 5),
season.x = sample(c("autumn", "spring"), 200, replace = TRUE)
)
ui <- page_sidebar(
title = "Plant Occupancy by Season",
sidebar = sidebar(
radioButtons(
"season",
"Select Season:",
choices = c("Autumn" = "autumn", "Spring" = "spring"),
selected = "autumn"
)
),
card(
card_header("Occupancy Distribution"),
plotOutput("occupancy_plot")
)
)
knitr::opts_chunk$set(echo = TRUE)
library(shiny)
set.seed(123)
plant_joined <- data.frame(
occupied = sample(c(0, 1), 200, replace = TRUE),
temperature_ambient = rnorm(200, mean = 20, sd = 5),
season.x = sample(c("autumn", "spring"), 200, replace = TRUE)
)
ui <- page_sidebar(
title = "Plant Occupancy by Season",
sidebar = sidebar(
radioButtons(
"season",
"Select Season:",
choices = c("Autumn" = "autumn", "Spring" = "spring"),
selected = "autumn"
)
),
card(
card_header("Occupancy Distribution"),
plotOutput("occupancy_plot")
)
)
install.packages("shiny")
library(shiny)
library(bslib)
library(ggplot2)
library(dplyr)
set.seed(123)
plant_joined <- data.frame(
occupied = sample(c(0, 1), 200, replace = TRUE),
temperature_ambient = rnorm(200, mean = 20, sd = 5),
season.x = sample(c("autumn", "spring"), 200, replace = TRUE)
)
ui <- page_sidebar(
title = "Plant Occupancy by Season",
sidebar = sidebar(
radioButtons(
"season",
"Select Season:",
choices = c("Autumn" = "autumn", "Spring" = "spring"),
selected = "autumn"
)
),
card(
card_header("Occupancy Distribution"),
plotOutput("occupancy_plot")
)
)
server <- function(input, output, session) {
output$occupancy_plot <- renderPlot({
plant_joined %>%
filter(season.x == input$season) %>%
mutate(occupied = factor(occupied)) %>%
ggplot(aes(x = occupied)) +
geom_bar(aes(fill = season.x), color = "black", position = "dodge") +
labs(
x = "Occupied",
y = "Count",
fill = "Season"
) +
theme_minimal() +
theme(text = element_text(size = 14))
})
}
shinyApp(ui, server)
set.seed(123)
plant_joined <- data.frame(
occupied = sample(c(0, 1), 200, replace = TRUE),
temperature_ambient = rnorm(200, mean = 20, sd = 5),
season.x = sample(c("autumn", "spring"), 200, replace = TRUE)
)
ui <- page_sidebar(
title = "Plant Occupancy by Season",
sidebar = sidebar(
radioButtons(
"season",
"Select Season:",
choices = c("Autumn" = "autumn", "Spring" = "spring"),
selected = "autumn"
)
),
card(
card_header("Occupancy Distribution"),
plotOutput("occupancy_plot")
)
)
server <- function(input, output, session) {
output$occupancy_plot <- renderPlot({
plant_joined %>%
filter(season.x == input$season) %>%
mutate(occupied = factor(occupied)) %>%
ggplot(aes(x = occupied)) +
geom_bar(aes(fill = season.x), color = "black", position = "dodge") +
scale_fill_manual(
values = c("autumn" = "#D2691E", "spring" = "#90EE90")
) +
labs(
x = "Occupied",
y = "Count",
fill = "Season"
) +
theme_minimal() +
theme(text = element_text(size = 14))
})
}
shinyApp(ui, server)
## Including Plots
You can also embed plots, for example:
set.seed(123)
plant_joined <- data.frame(
occupied = sample(c(0, 1), 200, replace = TRUE),
temperature_ambient = rnorm(200, mean = 20, sd = 5),
temperature_soil = rnorm(200, mean = 18, sd = 4),
season.x = sample(c("autumn", "spring"), 200, replace = TRUE)
)
ui <- page_sidebar(
title = "Plant Data by Season",
sidebar = sidebar(
radioButtons(
"season",
"Select Season:",
choices = c("Autumn" = "autumn", "Spring" = "spring"),
selected = "autumn"
)
),
layout_columns(
card(
card_header("Occupancy Distribution"),
plotOutput("occupancy_plot")
),
card(
card_header("Soil Temperature Density"),
plotOutput("temp_soil_plot")
)
)
)
server <- function(input, output, session) {
output$occupancy_plot <- renderPlot({
plant_joined %>%
filter(season.x == input$season) %>%
mutate(occupied = factor(occupied)) %>%
ggplot(aes(x = occupied)) +
geom_bar(aes(fill = season.x), color = "black", position = "dodge") +
scale_fill_manual(
values = c("autumn" = "#D2691E", "spring" = "#90EE90")
) +
labs(
x = "Occupied",
y = "Count",
fill = "Season"
) +
theme_minimal() +
theme(text = element_text(size = 14))
})
output$temp_soil_plot <- renderPlot({
plant_joined %>%
filter(season.x == input$season) %>%
ggplot(aes(x = temperature_soil, color = season.x, fill = season.x)) +
geom_density(alpha = 0.5) +
scale_color_manual(
values = c("autumn" = "#D2691E", "spring" = "#90EE90")
) +
scale_fill_manual(
values = c("autumn" = "#D2691E", "spring" = "#90EE90")
) +
labs(
x = "Soil Temperature",
y = "Density",
color = "Season",
fill = "Season"
) +
theme_minimal() +
theme(text = element_text(size = 14))
})
}
shinyApp(ui, server)
register_stadiamaps("YOUR API KEY HERE", write = FALSE)
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>%
clean_names() %>%
filter(longitude !="NA" & latitude !="NA") %>% # pulling out NA locations
mutate(longitude = as.numeric(longitude)) # converting longitude to numeric
sharks %>%
select(latitude, longitude) %>%
summary()
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
register_stadiamaps("7feab5ff-a83e-46d0-89b9-b407ec264614", write = FALSE)
library(tidyverse)
library(janitor)
library(ggmap)
library(leaflet)
register_stadiamaps("7feab5ff-a83e-46d0-89b9-b407ec264614", write = FALSE)
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>%
clean_names() %>%
filter(longitude !="NA" & latitude !="NA") %>% # pulling out NA locations
mutate(longitude = as.numeric(longitude)) # converting longitude to numeric
sharks %>%
select(latitude, longitude) %>%
summary()
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv")%>%
clean_names() %>%
filter(latitude<=42)
ggmap(map1) +
geom_point(data=sharks, aes(longitude, latitude), size=0.75, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="CA Usofila Records")
View(egg_laying)
sharks %>%
select(latitude, longitude) %>%
summary()
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
ggmap(map1) +
geom_point(data=sharks, aes(longitude, latitude), size=0.75, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="Sharks")
ggmap(map1) +
geom_point(data=grizzly, aes(longitude, latitude), size=0.75, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="CA Usofila Records")
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
map1<-get_stadiamap(bbox,maptype="stamen_terrain",zoom=7)
ggmap(map1) +
geom_point(data=sharks, aes(longitude, latitude), size=0.75, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="Sharks")
ggmap(map1) +
geom_point(data=sharks, aes(longitude, latitude), size=0.75, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="Sharks")
library(tidyverse)
library(janitor)
library(ggmap)
library(leaflet)
register_stadiamaps("7feab5ff-a83e-46d0-89b9-b407ec264614", write = FALSE)
sharks <- read_csv("data/SharkIncidents_1950_2022_220302.csv") %>%
clean_names() %>%
filter(longitude !="NA" & latitude !="NA") %>% # pulling out NA locations
mutate(longitude = as.numeric(longitude)) # converting longitude to numeric
sharks %>%
select(latitude, longitude) %>%
summary()
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
map1<-get_stadiamap(bbox,maptype="stamen_terrain",zoom=7)
ggmap(map1) +
geom_point(data=sharks, aes(longitude, latitude), size=0.75, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="Sharks")
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=1, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="Sharks")
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
shark_map<-get_stadiamap(bbox,maptype="stamen_terrain",zoom=7)
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=1, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="Sharks")
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=3, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="Sharks")
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=0.5, color="black", alpha=0.8)+
labs(x="Longitude",y="Latitude", title="Sharks")
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=0.5, color="black", alpha=0.4)+
labs(x="Longitude",y="Latitude", title="Sharks")
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=0.5, color="black", alpha=1)+
labs(x="Longitude",y="Latitude", title="Sharks")
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
shark_map<-get_stadiamap(bbox,maptype="stamen_terrain",zoom=10)
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
shark_map<-get_stadiamap(bbox,maptype="stamen_terrain",zoom=10)
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
shark_map<-get_stadiamap(bbox,maptype="stamen_terrain",zoom=7)
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=0.5, color="black", alpha=1)+
labs(x="Longitude",y="Latitude", title="Sharks")
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=0.5, color="black", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Attacks California")
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Attacks California")
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Attacks California")
shark_map<-get_stadiamap(bbox,maptype="stamen_terrain",zoom=7)
ggmap(shark_map) +
geom_point(data=sharks, aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Attacks California")
lat <- c(32.0, 42.37)
long <- c(-125.2, -116.3)
bbox <- make_bbox(long, lat, f=0.03)
ggmap(shark_map) +
geom_point(data=filter(sharks,fatality=="Y"), aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Fatalities California")
View(sharks)
ggmap(shark_map) +
geom_point(data=filter(sharks,injury=="fatal"), aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Fatalities California")
leaflet(filter(sharks,injury=="fatal") %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fill0pacity=0.7
) %>%
addScaleBar(position="bottomleft")%>%
fitBounds(lng1=lon_min, lat1=lat_min,
lng2=lon_max, lat2=lat_max)
leaflet(filter(sharks,injury=="fatal")) %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fill0pacity=0.7
) %>%
addScaleBar(position="bottomleft")%>%
fitBounds(lng1=lon_min, lat1=lat_min,
lng2=lon_max, lat2=lat_max)
lon_min <- -124.13
lon_max <- -115.49
lat_min <- 34.67
lat_max <- 41.8
leaflet(filter(sharks,injury=="fatal")) %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fill0pacity=0.7
) %>%
addScaleBar(position="bottomleft")%>%
fitBounds(lng1=lon_min, lat1=lat_min,
lng2=lon_max, lat2=lat_max)
leaflet(filter(sharks,injury=="fatal")) %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fillOpacity=0.7
) %>%
addScaleBar(position="bottomleft")%>%
fitBounds(lng1=lon_min, lat1=lat_min,
lng2=lon_max, lat2=lat_max)
lon_min <- -124.13
lon_max <- -115.49
lat_min <- 34.67
lat_max <- 41.8
leaflet(spiders) %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fillOpacity=0.7
) %>%
addScaleBar(position="bottomleft")%>%
fitBounds(lng1=lon_min, lat1=lat_min,
lng2=lon_max, lat2=lat_max)
library(tidyverse)
library(janitor)
#install.packages("ggmap")
library(ggmap)
#install.packages("leaflet")
library(leaflet)
register_stadiamaps("7feab5ff-a83e-46d0-89b9-b407ec264614", write = FALSE)
spiders <- read_csv("data/spiders_with_locs.csv")%>%
clean_names() %>%
filter(latitude<=42)
spiders %>%
select(latitude, longitude) %>%
summary()
lat <- c(34.67, 41.80)
long <- c(-124.1, -115.5)
bbox <- make_bbox(long, lat, f=0.03)
map1 <- get_stadiamap(bbox, maptype="stamen_terrain", zoom = 7)
lon_min <- -124.13
lon_max <- -115.49
lat_min <- 34.67
lat_max <- 41.8
leaflet(spiders) %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fillOpacity=0.7
) %>%
addScaleBar(position="bottomleft")%>%
fitBounds(lng1=lon_min, lat1=lat_min,
lng2=lon_max, lat2=lat_max)
ggmap(shark_map) +
geom_point(data=filter(sharks,injury=="fatal",county=="San Luis Obispo"), aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Fatalities California")
ggmap(shark_map) +
geom_point(data=filter(sharks,injury=="fatal",county=="San Luis Obispo"), aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Fatalities SLO")
lat2 <- c(34.0, 35.37)
long2 <- c(-121.2, -119.3)
bbox2 <- make_bbox(long2, lat2, f=0.03)
lat2 <- c(34.0, 35.37)
long2 <- c(-121.2, -119.3)
bbox2 <- make_bbox(long2, lat2, f=0.03)
shark_map2<-get_stadiamap(bbox2,maptype="stamen_terrain",zoom=10)
ggmap(shark_map2) +
geom_point(data=filter(sharks,injury=="fatal",county=="San Luis Obispo"), aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Fatalities SLO")
lat2 <- c(34.7, 35.5)
long2 <- c(-120.95, -120.35)
bbox2 <- make_bbox(long2, lat2, f=0.03)
shark_map2<-get_stadiamap(bbox2,maptype="stamen_terrain",zoom=10)
ggmap(shark_map2) +
geom_point(data=filter(sharks,injury=="fatal",county=="San Luis Obispo"), aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Fatalities SLO")
lat2 <- c(34.7, 35.7)
long2 <- c(-121.95, -120.35)
bbox2 <- make_bbox(long2, lat2, f=0.03)
shark_map2<-get_stadiamap(bbox2,maptype="stamen_terrain",zoom=10)
ggmap(shark_map2) +
geom_point(data=filter(sharks,injury=="fatal",county=="San Luis Obispo"), aes(longitude, latitude), size=0.5, color="red2", alpha=1)+
labs(x="Longitude",y="Latitude", title="Shark Fatalities SLO")
leaflet(filter(sharks,injury=="fatal")) %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fillColor="red"
fillOpacity=0.7
leaflet(filter(sharks,injury=="fatal")) %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fillColour="red"
fillOpacity=0.7
leaflet(filter(sharks,injury=="fatal")) %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fillColour="red",
fillOpacity=0.7
) %>%
addScaleBar(position="bottomleft")%>%
fitBounds(lng1=lon_min, lat1=lat_min,
lng2=lon_max, lat2=lat_max)
lon_min <- -124.13
lon_max <- -115.49
lat_min <- 34.67
lat_max <- 41.8
leaflet(filter(sharks,injury=="fatal")) %>%
addProviderTiles(providers$Stadia.StamenTerrain)%>%
addCircleMarkers(
lng=~longitude,
lat=~latitude,
radius=2,
stroke= FALSE,
fillColor="red",
fillOpacity=0.7
) %>%
addScaleBar(position="bottomleft")%>%
fitBounds(lng1=lon_min, lat1=lat_min,
lng2=lon_max, lat2=lat_max)
